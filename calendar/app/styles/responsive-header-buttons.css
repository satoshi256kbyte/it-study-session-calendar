/* Responsive Header Button Utilities - 要件1.5, 3.5, 5.1, 5.2 */

/* Base Header Button Container - 要件3.1, 3.2 */
@layer components {
  .header-buttons-container {
    @apply flex items-center space-x-2 sm:space-x-4;
    contain: layout style;
  }

  /* Responsive Breakpoint Handler - 要件1.5, 3.5, 5.2 */
  .responsive-breakpoint-handler {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    will-change: auto;
  }

  .responsive-breakpoint-handler.transitioning {
    will-change: transform, opacity, margin, padding;
  }

  .responsive-breakpoint-handler.transitioning.reduced-motion {
    transition: none !important;
    will-change: auto !important;
  }

  /* Breakpoint-specific base styles */
  .breakpoint-mobile {
    --header-spacing: 0.5rem;
    --button-padding: 0.5rem;
    --button-min-width: 44px;
  }

  .breakpoint-tablet {
    --header-spacing: 0.75rem;
    --button-padding: 0.5rem 0.75rem;
    --button-min-width: auto;
  }

  .breakpoint-desktop {
    --header-spacing: 1rem;
    --button-padding: 0.5rem 1rem;
    --button-min-width: auto;
  }

  /* Responsive Header Button Wrapper - 要件5.3, 5.4 */
  .responsive-header-buttons {
    @apply flex items-center space-x-2 sm:space-x-4;
    contain: layout style;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Twitter Share Button Responsive Classes - 要件1.1, 1.2, 1.5 */
  .twitter-button-responsive {
    @apply inline-flex items-center px-2 py-2 sm:px-3 sm:py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500;
    min-height: 44px;
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
    contain: layout style;
    transition: background-color 0.2s ease, border-color 0.2s ease;
  }

  /* Twitter Button Text Visibility - 要件1.1, 1.2 */
  .twitter-button-text {
    @apply hidden sm:inline;
    transition: opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    will-change: opacity;
  }

  .twitter-button-text-visible {
    @apply inline;
    opacity: 1;
  }

  .twitter-button-text-hidden {
    @apply hidden;
    opacity: 0;
  }

  /* Twitter Button Icon Spacing - 要件1.1, 1.2 */
  .twitter-button-icon {
    @apply w-4 h-4 flex-shrink-0;
    margin-right: 0;
    transition: margin-right 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .twitter-button-icon-with-text {
    @apply mr-0 sm:mr-2;
  }

  .twitter-button-icon-only {
    @apply mr-0;
  }

  /* Study Session Register Button Responsive Classes - 要件2.1, 2.2, 2.3 */
  .register-button-header {
    @apply hidden sm:inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500;
    min-height: 44px;
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
    contain: layout style;
    transition: background-color 0.2s ease;
  }

  .register-button-mobile-section {
    @apply block sm:hidden w-full px-4 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500;
    min-height: 48px;
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
    contain: layout style;
    transition: background-color 0.2s ease;
  }

  /* Mobile Register Section Container - 要件2.2, 2.5, 3.2 */
  .mobile-register-section {
    @apply block sm:hidden mt-6 px-4;
    contain: layout style;
    transform: translateZ(0);
    backface-visibility: hidden;
  }

  .mobile-register-section-content {
    @apply text-center bg-white rounded-lg shadow-sm border p-6;
    contain: layout style paint;
    transform: translateZ(0);
    backface-visibility: hidden;
  }

  /* Share Button Responsive Classes - 要件3.1, 3.4 */
  .share-button-responsive {
    @apply inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500;
    min-height: 44px;
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
    contain: layout style;
    transition: background-color 0.2s ease, border-color 0.2s ease;
  }
}

/* Responsive Button Utilities - 要件5.1, 5.2 */
@layer utilities {
  /* Mobile-First Button Text Visibility Controls - 要件1.5, 5.1 */
  .btn-text-responsive {
    @apply hidden sm:inline;
    transition: opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1),
                transform 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    contain: layout style;
    will-change: auto;
  }

  .btn-text-responsive.transitioning {
    will-change: opacity, transform;
  }

  .btn-text-mobile-hidden {
    @apply hidden sm:inline;
    opacity: 0;
    transform: translateX(-5px);
    transition: opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1),
                transform 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .btn-text-mobile-hidden.visible {
    opacity: 1;
    transform: translateX(0);
  }

  .btn-text-always-visible {
    @apply inline;
    opacity: 1;
    transform: translateX(0);
  }

  .btn-text-always-hidden {
    @apply hidden;
    opacity: 0;
  }

  /* Mobile-First Button Display Controls - 요건5.1 */
  .btn-mobile-first {
    @apply block sm:hidden;
  }

  .btn-desktop-first {
    @apply hidden sm:block;
  }

  .btn-tablet-up {
    @apply hidden md:block;
  }

  .btn-mobile-only {
    @apply block sm:hidden;
  }

  .btn-tablet-only {
    @apply hidden sm:block md:hidden;
  }

  .btn-desktop-only {
    @apply hidden md:block;
  }

  /* Button Icon Spacing Controls - 要件1.5 */
  .btn-icon-responsive-spacing {
    @apply mr-0 sm:mr-2;
    transition: margin-right 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .btn-icon-no-spacing {
    @apply mr-0;
  }

  .btn-icon-with-spacing {
    @apply mr-2;
  }

  /* Header Button Display Controls - 要件2.1, 2.3, 3.1 */
  .header-button-desktop-only {
    @apply hidden sm:inline-flex;
  }

  .header-button-mobile-hidden {
    @apply hidden sm:inline-flex;
  }

  .header-button-always-visible {
    @apply inline-flex;
  }

  /* Mobile Section Display Controls - 要件2.2, 2.5 */
  .mobile-section-only {
    @apply block sm:hidden;
  }

  .mobile-section-hidden {
    @apply hidden sm:block;
  }

  /* Smooth Transition Classes - 要件1.5, 3.5, 5.2 */
  .header-transition-smooth {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    will-change: transform, opacity;
  }

  .header-transition-fast {
    transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
    will-change: transform, opacity;
  }

  .header-transition-complete {
    will-change: auto;
  }

  /* Layout Stability Classes - 要件3.5, 5.2 */
  .header-layout-stable {
    contain: layout style;
    transform: translateZ(0);
    backface-visibility: hidden;
  }

  .header-layout-transitioning {
    contain: layout style;
    transform: translateZ(0);
    backface-visibility: hidden;
    pointer-events: none;
  }

  /* Performance Optimization Classes - 要件5.2 */
  .header-gpu-optimized {
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
    contain: layout style paint;
  }

  .header-will-change-optimized {
    will-change: auto;
  }

  .header-will-change-optimized.transitioning {
    will-change: transform, opacity, margin;
  }

  /* CSS Containment for Performance - 요건5.2 */
  .header-contain-layout {
    contain: layout;
  }

  .header-contain-style {
    contain: style;
  }

  .header-contain-paint {
    contain: paint;
  }

  .header-contain-strict {
    contain: strict;
  }

  .header-contain-layout-style {
    contain: layout style;
  }

  .header-contain-layout-paint {
    contain: layout paint;
  }

  .header-contain-all {
    contain: layout style paint;
  }

  /* Touch Target Optimization - 要件4.2 */
  .header-touch-target {
    min-height: 44px;
    min-width: 44px;
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
  }

  @media (pointer: coarse) {
    .header-touch-target {
      min-height: 48px;
      min-width: 48px;
    }
  }

  /* Focus Ring Enhancement - 要件4.1, 4.4 */
  .header-focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500;
    border-radius: 0.375rem;
  }

  .header-focus-ring-enhanced:focus {
    box-shadow: 0 0 0 2px #3b82f6, 0 0 0 4px rgba(59, 130, 246, 0.1);
  }

  /* Button State Classes - 要件5.4 */
  .header-button-loading {
    @apply opacity-75 cursor-wait;
    pointer-events: none;
  }

  .header-button-disabled {
    @apply opacity-50 cursor-not-allowed;
    pointer-events: none;
  }

  .header-button-error {
    @apply border-red-300 text-red-700 bg-red-50 hover:bg-red-100;
  }

  /* Responsive Spacing Utilities - 要件3.5 */
  .header-spacing-responsive {
    @apply space-x-2 sm:space-x-4;
  }

  .header-padding-responsive {
    @apply px-2 py-2 sm:px-3 sm:py-2;
  }

  .header-margin-responsive {
    @apply mx-1 sm:mx-2;
  }

  /* Mobile Register Section Styling - 要件2.5, 4.2 */
  .mobile-register-prominent {
    @apply bg-blue-50 border-blue-200 rounded-lg p-4;
    box-shadow: 0 2px 4px rgba(59, 130, 246, 0.1);
  }

  .mobile-register-button-prominent {
    @apply w-full py-3 px-6 text-base font-semibold rounded-lg;
    min-height: 48px;
    box-shadow: 0 2px 4px rgba(59, 130, 246, 0.2);
  }

  /* Responsive Typography - 要件5.1 */
  .header-text-responsive {
    @apply text-sm sm:text-base;
  }

  .header-text-mobile-small {
    @apply text-xs sm:text-sm;
  }

  /* Container Width Controls - 要件3.1, 3.4 */
  .header-container-responsive {
    @apply w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  .header-content-responsive {
    @apply flex justify-between items-center py-4 sm:py-6;
  }

  /* Consistent Responsive Button Behavior Utilities - 요건5.1, 5.2 */
  .responsive-btn-base {
    @apply inline-flex items-center justify-center;
    min-height: 44px;
    min-width: 44px;
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
    contain: layout style;
    transition: background-color 0.2s ease, border-color 0.2s ease, transform 0.15s ease;
    transform: translateZ(0);
    backface-visibility: hidden;
  }

  .responsive-btn-primary {
    @apply responsive-btn-base px-4 py-2 bg-blue-600 text-white border border-transparent rounded-md;
    @apply hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500;
  }

  .responsive-btn-secondary {
    @apply responsive-btn-base px-3 py-2 bg-white text-gray-700 border border-gray-300 rounded-md;
    @apply hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500;
  }

  .responsive-btn-icon-only {
    @apply responsive-btn-base p-2 bg-white text-gray-700 border border-gray-300 rounded-md;
    @apply hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500;
    min-width: 44px;
    width: 44px;
  }

  /* Enhanced Mobile-First Button Utilities - 요건1.5, 5.1 */
  .responsive-btn-mobile-first {
    @apply responsive-btn-base;
    /* Mobile-first: start with compact design */
    padding: 0.5rem;
    min-width: 44px;
  }

  @media (min-width: 640px) {
    .responsive-btn-mobile-first {
      padding: 0.5rem 0.75rem;
      min-width: auto;
    }
  }

  @media (min-width: 768px) {
    .responsive-btn-mobile-first {
      padding: 0.5rem 1rem;
    }
  }

  /* Responsive Button Text Utilities - 요건1.1, 1.2, 5.1 */
  .responsive-btn-text-adaptive {
    @apply hidden sm:inline;
    opacity: 0;
    transform: translateX(-5px);
    transition: opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1),
                transform 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  @media (min-width: 640px) {
    .responsive-btn-text-adaptive {
      opacity: 1;
      transform: translateX(0);
    }
  }

  /* Responsive Button Icon Utilities - 요건1.1, 1.2, 5.1 */
  .responsive-btn-icon-adaptive {
    margin-right: 0;
    transition: margin-right 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  @media (min-width: 640px) {
    .responsive-btn-icon-adaptive {
      margin-right: 0.5rem;
    }
  }

  /* Responsive Button Container Utilities - 요건3.1, 3.2, 5.1 */
  .responsive-btn-container {
    @apply flex items-center;
    gap: 0.5rem;
    contain: layout style;
    transition: gap 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  @media (min-width: 640px) {
    .responsive-btn-container {
      gap: 1rem;
    }
  }

  @media (min-width: 768px) {
    .responsive-btn-container {
      gap: 1.25rem;
    }
  }

  /* Responsive Button State Utilities - 요건5.4 */
  .responsive-btn-loading {
    @apply opacity-75 cursor-wait;
    pointer-events: none;
    position: relative;
  }

  .responsive-btn-loading::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 16px;
    height: 16px;
    margin: -8px 0 0 -8px;
    border: 2px solid transparent;
    border-top: 2px solid currentColor;
    border-radius: 50%;
    animation: spin 1s linear infinite;
  }

  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }

  .responsive-btn-error {
    @apply border-red-300 text-red-700 bg-red-50 hover:bg-red-100;
    animation: shake 0.3s ease-in-out;
  }

  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-2px); }
    75% { transform: translateX(2px); }
  }

  .responsive-btn-success {
    @apply border-green-300 text-green-700 bg-green-50 hover:bg-green-100;
  }

  /* Mobile-First Responsive Text Utilities - 요건1.5, 5.1 */
  .responsive-text-mobile-hidden {
    @apply hidden sm:inline;
  }

  .responsive-text-tablet-hidden {
    @apply hidden md:inline;
  }

  /* Mobile-First Icon Spacing Utilities - 요건1.5, 5.1 */
  .responsive-icon-spacing {
    @apply mr-0 sm:mr-2;
  }

  .responsive-icon-spacing-tablet {
    @apply mr-0 md:mr-2;
  }

  .responsive-icon-no-spacing {
    @apply mr-0;
  }

  .responsive-icon-with-spacing {
    @apply mr-2;
  }

  /* Mobile-First Layout Utilities - 요건2.1, 2.2, 5.1 */
  .responsive-layout-mobile-stack {
    @apply flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-4;
  }

  .responsive-layout-mobile-hidden {
    @apply hidden sm:flex;
  }

  .responsive-layout-desktop-hidden {
    @apply flex sm:hidden;
  }

  .responsive-layout-tablet-hidden {
    @apply flex md:hidden;
  }

  /* Smooth Transition Enhancement Utilities - 요건1.5, 3.5, 5.2 */
  .responsive-transition-smooth {
    transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1), 
                transform 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                margin 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                padding 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .responsive-transition-fast {
    transition: opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1), 
                transform 0.15s cubic-bezier(0.4, 0, 0.2, 1),
                margin 0.15s cubic-bezier(0.4, 0, 0.2, 1),
                padding 0.15s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .responsive-transition-ultra-fast {
    transition: opacity 0.1s cubic-bezier(0.4, 0, 0.2, 1), 
                transform 0.1s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .responsive-transition-slow {
    transition: opacity 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94), 
                transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  /* Transition State Management Utilities - 요건5.2 */
  .responsive-transition-prepare {
    will-change: transform, opacity, margin, padding;
  }

  .responsive-transition-complete {
    will-change: auto;
  }

  .responsive-transition-active {
    pointer-events: none;
  }

  /* Advanced Performance Optimization Utilities - 요건5.2 */
  .responsive-performance-optimized {
    contain: layout style paint;
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
    will-change: auto;
  }

  .responsive-performance-optimized.transitioning {
    will-change: transform, opacity;
  }

  .responsive-performance-critical {
    contain: strict;
    transform: translate3d(0, 0, 0);
    backface-visibility: hidden;
    perspective: 1000px;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Responsive Layout Stability Utilities - 요건3.5, 5.2 */
  .responsive-layout-stable {
    contain: layout style;
    transform: translateZ(0);
    backface-visibility: hidden;
    min-height: 44px;
  }

  .responsive-layout-transitioning {
    contain: layout style;
    transform: translateZ(0);
    backface-visibility: hidden;
    pointer-events: none;
    min-height: 44px;
  }

  .responsive-layout-prevent-shift {
    contain: layout;
    min-width: 0;
    min-height: 0;
  }

  /* Responsive Interaction Utilities - 요건4.2, 5.1 */
  .responsive-touch-optimized {
    min-height: 44px;
    min-width: 44px;
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
    user-select: none;
  }

  @media (pointer: coarse) {
    .responsive-touch-optimized {
      min-height: 48px;
      min-width: 48px;
      padding: 0.75rem;
    }
  }

  .responsive-mouse-optimized {
    cursor: pointer;
    transition: transform 0.15s cubic-bezier(0.4, 0, 0.2, 1);
  }

  @media (pointer: fine) {
    .responsive-mouse-optimized:hover {
      transform: translateZ(0) translateY(-1px);
    }

    .responsive-mouse-optimized:active {
      transform: translateZ(0) translateY(0);
    }
  }

  /* Performance-Optimized Responsive Utilities - 요건5.2 */
  .responsive-gpu-accelerated {
    contain: layout style;
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
  }

  /* Advanced CSS Containment Utilities - 요건5.2 */
  .responsive-contain-layout {
    contain: layout;
  }

  .responsive-contain-style {
    contain: style;
  }

  .responsive-contain-paint {
    contain: paint;
  }

  .responsive-contain-size {
    contain: size;
  }

  .responsive-contain-strict {
    contain: strict;
  }

  .responsive-contain-content {
    contain: layout style paint;
  }

  /* Mobile-First Responsive Display Utilities - 요건1.5, 5.1 */
  .mobile-first-hidden {
    display: none;
  }

  @media (min-width: 640px) {
    .mobile-first-hidden {
      display: block;
    }
  }

  .mobile-first-inline {
    display: none;
  }

  @media (min-width: 640px) {
    .mobile-first-inline {
      display: inline;
    }
  }

  .mobile-first-inline-flex {
    display: none;
  }

  @media (min-width: 640px) {
    .mobile-first-inline-flex {
      display: inline-flex;
    }
  }

  .mobile-first-flex {
    display: none;
  }

  @media (min-width: 640px) {
    .mobile-first-flex {
      display: flex;
    }
  }

  /* Desktop-First Responsive Display Utilities - 요건2.2, 5.1 */
  .desktop-first-hidden {
    display: block;
  }

  @media (min-width: 640px) {
    .desktop-first-hidden {
      display: none;
    }
  }

  /* Responsive Spacing Utilities - 요건3.5, 5.1 */
  .responsive-spacing-xs {
    gap: 0.25rem;
  }

  @media (min-width: 640px) {
    .responsive-spacing-xs {
      gap: 0.5rem;
    }
  }

  .responsive-spacing-sm {
    gap: 0.5rem;
  }

  @media (min-width: 640px) {
    .responsive-spacing-sm {
      gap: 0.75rem;
    }
  }

  .responsive-spacing-md {
    gap: 0.5rem;
  }

  @media (min-width: 640px) {
    .responsive-spacing-md {
      gap: 1rem;
    }
  }

  .responsive-spacing-lg {
    gap: 0.75rem;
  }

  @media (min-width: 640px) {
    .responsive-spacing-lg {
      gap: 1.25rem;
    }
  }

  .responsive-spacing-xl {
    gap: 1rem;
  }

  @media (min-width: 640px) {
    .responsive-spacing-xl {
      gap: 1.5rem;
    }
  }

  /* Responsive Padding Utilities - 요건5.1 */
  .responsive-padding-xs {
    padding: 0.25rem;
  }

  @media (min-width: 640px) {
    .responsive-padding-xs {
      padding: 0.5rem;
    }
  }

  .responsive-padding-sm {
    padding: 0.5rem;
  }

  @media (min-width: 640px) {
    .responsive-padding-sm {
      padding: 0.5rem 0.75rem;
    }
  }

  .responsive-padding-md {
    padding: 0.5rem;
  }

  @media (min-width: 640px) {
    .responsive-padding-md {
      padding: 0.5rem 1rem;
    }
  }

  .responsive-padding-lg {
    padding: 0.75rem;
  }

  @media (min-width: 640px) {
    .responsive-padding-lg {
      padding: 0.75rem 1.25rem;
    }
  }

  /* Responsive Margin Utilities - 요건5.1 */
  .responsive-margin-xs {
    margin: 0.25rem;
  }

  @media (min-width: 640px) {
    .responsive-margin-xs {
      margin: 0.5rem;
    }
  }

  .responsive-margin-sm {
    margin: 0.5rem;
  }

  @media (min-width: 640px) {
    .responsive-margin-sm {
      margin: 0.75rem;
    }
  }

  .responsive-margin-md {
    margin: 0.5rem;
  }

  @media (min-width: 640px) {
    .responsive-margin-md {
      margin: 1rem;
    }
  }

  /* Consistent Button State Utilities - 요건5.4 */
  .responsive-btn-loading {
    @apply opacity-75 cursor-wait;
    pointer-events: none;
  }

  .responsive-btn-disabled {
    @apply opacity-50 cursor-not-allowed;
    pointer-events: none;
  }

  .responsive-btn-error {
    @apply border-red-300 text-red-700 bg-red-50 hover:bg-red-100;
  }

  .responsive-btn-success {
    @apply border-green-300 text-green-700 bg-green-50 hover:bg-green-100;
  }

  /* Mobile-First Button Behavior Patterns - 요건1.5, 5.1 */
  .mobile-first-btn-pattern {
    /* Mobile: Icon-only, compact */
    @apply p-2 min-w-[44px] w-[44px];
    contain: layout style;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  @media (min-width: 640px) {
    .mobile-first-btn-pattern {
      /* Desktop: Icon + text, expanded */
      @apply px-3 py-2 w-auto min-w-0;
    }
  }

  .mobile-first-btn-text {
    /* Mobile: Hidden */
    @apply hidden;
    opacity: 0;
    transform: translateX(-5px);
    transition: opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1),
                transform 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  @media (min-width: 640px) {
    .mobile-first-btn-text {
      /* Desktop: Visible with smooth transition */
      @apply inline;
      opacity: 1;
      transform: translateX(0);
    }
  }

  .mobile-first-btn-icon {
    /* Mobile: No margin */
    margin-right: 0;
    transition: margin-right 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  @media (min-width: 640px) {
    .mobile-first-btn-icon {
      /* Desktop: Right margin for text spacing */
      margin-right: 0.5rem;
    }
  }

  /* Consistent Button Spacing Patterns - 요건3.5, 5.1 */
  .consistent-btn-spacing {
    @apply flex items-center;
    gap: 0.5rem;
    contain: layout;
    transition: gap 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  @media (min-width: 640px) {
    .consistent-btn-spacing {
      gap: 1rem;
    }
  }

  @media (min-width: 768px) {
    .consistent-btn-spacing {
      gap: 1.25rem;
    }
  }

  @media (min-width: 1024px) {
    .consistent-btn-spacing {
      gap: 1.5rem;
    }
  }

  /* Responsive Button Group Utilities - 요건3.1, 3.2, 5.1 */
  .responsive-btn-group {
    @apply flex items-center;
    contain: layout style;
    gap: 0.5rem;
    transition: gap 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  @media (min-width: 640px) {
    .responsive-btn-group {
      gap: 0.75rem;
    }
  }

  @media (min-width: 768px) {
    .responsive-btn-group {
      gap: 1rem;
    }
  }

  .responsive-btn-group-compact {
    @apply flex items-center;
    contain: layout style;
    gap: 0.25rem;
    transition: gap 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  @media (min-width: 640px) {
    .responsive-btn-group-compact {
      gap: 0.5rem;
    }
  }

  .responsive-btn-group-spacious {
    @apply flex items-center;
    contain: layout style;
    gap: 0.75rem;
    transition: gap 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  @media (min-width: 640px) {
    .responsive-btn-group-spacious {
      gap: 1.25rem;
    }
  }

  @media (min-width: 768px) {
    .responsive-btn-group-spacious {
      gap: 1.5rem;
    }
  }

  /* Responsive Button Alignment Utilities - 요건3.1, 5.1 */
  .responsive-btn-align-start {
    justify-content: flex-start;
  }

  .responsive-btn-align-center {
    justify-content: center;
  }

  .responsive-btn-align-end {
    justify-content: flex-end;
  }

  .responsive-btn-align-between {
    justify-content: space-between;
  }

  .responsive-btn-align-around {
    justify-content: space-around;
  }

  .responsive-btn-align-evenly {
    justify-content: space-evenly;
  }

  /* Mobile-First Responsive Alignment - 요건5.1 */
  .mobile-first-align {
    justify-content: center;
  }

  @media (min-width: 640px) {
    .mobile-first-align {
      justify-content: flex-end;
    }
  }

  .mobile-first-align-reverse {
    justify-content: flex-end;
  }

  @media (min-width: 640px) {
    .mobile-first-align-reverse {
      justify-content: flex-start;
    }
  }
}

/* Responsive Breakpoint Specific Styles - 要件1.1, 1.2, 2.1, 2.2 */

/* Mobile Styles (< 640px) - 要件1.1, 2.2 */
@media (max-width: 639px) {
  .twitter-button-responsive {
    padding: 0.5rem;
    min-width: 44px;
  }

  .twitter-button-text {
    display: none !important;
  }

  .twitter-button-icon {
    margin-right: 0 !important;
  }

  .register-button-header {
    display: none !important;
  }

  .mobile-register-section {
    display: block;
  }

  .header-buttons-container {
    gap: 0.5rem;
  }
}

/* Tablet and Desktop Styles (>= 640px) - 要件2.3, 3.1 */
@media (min-width: 640px) {
  .twitter-button-text {
    display: inline;
    opacity: 1;
  }

  .twitter-button-icon {
    margin-right: 0.5rem;
  }

  .register-button-header {
    display: inline-flex;
  }

  .mobile-register-section {
    display: none;
  }

  .header-buttons-container {
    gap: 1rem;
  }
}

/* Smooth Transition Between Breakpoints - 要件1.5, 3.5 */
@media (min-width: 640px) and (max-width: 768px) {
  .header-transition-smooth {
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }
}

/* Responsive Transition Classes - 要件1.5, 3.5, 5.2 */
.responsive-transition-enter {
  opacity: 0;
  transform: translateY(10px) scale(0.95);
}

.responsive-transition-enter-active {
  opacity: 1;
  transform: translateY(0) scale(1);
  transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1),
              transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.responsive-transition-exit {
  opacity: 1;
  transform: translateY(0) scale(1);
}

.responsive-transition-exit-active {
  opacity: 0;
  transform: translateY(-5px) scale(0.98);
  transition: opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1),
              transform 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Breakpoint Transition States - 要件1.5, 3.5 */
.transitioning-from-mobile {
  animation: mobileToTabletTransition 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.transitioning-from-tablet {
  animation: tabletTransition 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.transitioning-from-desktop {
  animation: desktopToTabletTransition 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Layout Shift Prevention - 要件3.5 */
.responsive-element {
  contain: layout style;
  transform: translateZ(0);
  backface-visibility: hidden;
}

.responsive-transitioning {
  will-change: transform, opacity, margin, padding;
}

.responsive-transitioning.no-transitions {
  transition: none !important;
  animation: none !important;
  will-change: auto !important;
}

/* High Contrast Mode Support - 要件4.4 */
@media (prefers-contrast: high) {
  .twitter-button-responsive,
  .register-button-header,
  .register-button-mobile-section,
  .share-button-responsive {
    border-width: 2px;
  }

  .header-focus-ring:focus {
    outline: 2px solid;
    outline-offset: 2px;
  }

  .mobile-register-section-content {
    border-width: 2px;
  }
}

/* Reduced Motion Support - 要件4.1, 5.2 */
@media (prefers-reduced-motion: reduce) {
  .twitter-button-responsive,
  .register-button-header,
  .register-button-mobile-section,
  .share-button-responsive,
  .header-transition-smooth,
  .header-transition-fast,
  .twitter-button-text,
  .twitter-button-icon,
  .mobile-register-section,
  .header-buttons-container,
  .responsive-breakpoint-handler,
  .responsive-transition-enter,
  .responsive-transition-enter-active,
  .responsive-transition-exit,
  .responsive-transition-exit-active,
  .transitioning-from-mobile,
  .transitioning-from-tablet,
  .transitioning-from-desktop,
  .responsive-transitioning {
    transition: none !important;
    transform: none !important;
    animation: none !important;
  }

  .header-will-change-optimized,
  .header-will-change-optimized.transitioning,
  .responsive-breakpoint-handler.transitioning,
  .responsive-transitioning {
    will-change: auto !important;
  }

  /* Ensure immediate state changes without transitions */
  .twitter-button-text {
    opacity: 1 !important;
  }

  .twitter-button-icon {
    margin-right: 0.5rem !important;
  }

  @media (max-width: 639px) {
    .twitter-button-text {
      display: none !important;
      opacity: 0 !important;
    }

    .twitter-button-icon {
      margin-right: 0 !important;
    }
  }
}

/* Dark Mode Support (Future Enhancement) */
@media (prefers-color-scheme: dark) {
  .mobile-register-section-content {
    @apply bg-gray-800 border-gray-600;
  }

  .mobile-register-prominent {
    @apply bg-blue-900 border-blue-700;
    box-shadow: 0 2px 4px rgba(59, 130, 246, 0.2);
  }
}

/* Print Styles - 要件5.5 */
@media print {
  .twitter-button-responsive,
  .register-button-header,
  .register-button-mobile-section,
  .share-button-responsive,
  .mobile-register-section {
    display: none !important;
  }
}

/* Touch Device Optimizations - 要件4.2 */
@media (pointer: coarse) {
  .twitter-button-responsive,
  .register-button-header,
  .register-button-mobile-section,
  .share-button-responsive {
    min-height: 48px;
    min-width: 48px;
    padding: 0.75rem 1rem;
  }

  .twitter-button-responsive {
    padding: 0.75rem;
  }

  .mobile-register-button-prominent {
    min-height: 52px;
    padding: 0.875rem 1.5rem;
  }
}

/* Fine Pointer (Mouse) Optimizations - 要件5.2 */
@media (pointer: fine) {
  .twitter-button-responsive:hover,
  .register-button-header:hover,
  .register-button-mobile-section:hover,
  .share-button-responsive:hover {
    transform: translateZ(0) translateY(-1px);
  }

  .twitter-button-responsive:active,
  .register-button-header:active,
  .register-button-mobile-section:active,
  .share-button-responsive:active {
    transform: translateZ(0) translateY(0);
  }
}

/* Orientation Change Support - 要件3.5 */
@media (orientation: landscape) and (max-height: 500px) {
  .mobile-register-section {
    margin-top: 1rem;
  }

  .mobile-register-section-content {
    padding: 1rem;
  }
}

/* Large Screen Optimizations - 要件3.4 */
@media (min-width: 1024px) {
  .header-buttons-container {
    gap: 1.5rem;
  }

  .header-content-responsive {
    padding: 1.5rem 0;
  }
}

/* Ultra-wide Screen Support - 要件3.4 */
@media (min-width: 1536px) {
  .header-container-responsive {
    max-width: 1280px;
  }
}

/* Animation Keyframes for Complex Transitions - 要件5.2 */
@keyframes headerButtonFadeIn {
  from {
    opacity: 0;
    transform: translateY(10px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Responsive Breakpoint Transition Keyframes - 要件1.5, 3.5 */
@keyframes mobileToTabletTransition {
  0% {
    gap: 0.5rem;
    padding: 0.5rem;
  }
  100% {
    gap: 0.75rem;
    padding: 0.5rem 0.75rem;
  }
}

@keyframes tabletTransition {
  0% {
    transform: scale(0.98);
    opacity: 0.9;
  }
  50% {
    transform: scale(1.01);
    opacity: 0.95;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes desktopToTabletTransition {
  0% {
    gap: 1rem;
    padding: 0.5rem 1rem;
  }
  100% {
    gap: 0.75rem;
    padding: 0.5rem 0.75rem;
  }
}

@keyframes smoothTextTransition {
  0% {
    opacity: 0;
    transform: translateX(-5px);
  }
  100% {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes smoothIconTransition {
  0% {
    margin-right: 0;
  }
  100% {
    margin-right: 0.5rem;
  }
}

@keyframes headerButtonFadeOut {
  from {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  to {
    opacity: 0;
    transform: translateY(-5px) scale(0.98);
  }
}

@keyframes mobileRegisterSlideIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes mobileRegisterSlideOut {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(-10px);
  }
}

/* Animation Classes - 要件5.2 */
.animate-header-button-in {
  animation: headerButtonFadeIn 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-header-button-out {
  animation: headerButtonFadeOut 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-mobile-register-in {
  animation: mobileRegisterSlideIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-mobile-register-out {
  animation: mobileRegisterSlideOut 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Staggered Animation Support - 요건5.2 */
.header-button-stagger-1 {
  animation-delay: 0.05s;
}

.header-button-stagger-2 {
  animation-delay: 0.1s;
}

.header-button-stagger-3 {
  animation-delay: 0.15s;
}

/* Loading State Animations - 요건5.4 */
@keyframes headerButtonPulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}

.header-button-loading-pulse {
  animation: headerButtonPulse 1.5s ease-in-out infinite;
}

/* Error State Animations - 요건5.4 */
@keyframes headerButtonShake {
  0%, 100% {
    transform: translateX(0);
  }
  25% {
    transform: translateX(-2px);
  }
  75% {
    transform: translateX(2px);
  }
}

.header-button-error-shake {
  animation: headerButtonShake 0.3s ease-in-out;
}